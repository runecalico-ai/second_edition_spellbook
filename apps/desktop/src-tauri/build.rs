fn main() {
    let dist_dir = std::path::PathBuf::from(env!("CARGO_MANIFEST_DIR")).join("../dist");
    std::fs::create_dir_all(&dist_dir).expect("create frontend dist directory");
    let icon_dir = std::path::PathBuf::from(env!("CARGO_MANIFEST_DIR")).join("icons");
    std::fs::create_dir_all(&icon_dir).expect("create icon directory");
    let icon_path = icon_dir.join("icon.png");
    if !icon_path.exists() {
        let icon_bytes = [
            0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, 0x00, 0x00, 0x00, 0x0d, 0x49, 0x48,
            0x44, 0x52, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x08, 0x06, 0x00, 0x00,
            0x00, 0x1f, 0x15, 0xc4, 0x89, 0x00, 0x00, 0x00, 0x0a, 0x49, 0x44, 0x41, 0x54, 0x78,
            0x9c, 0x63, 0x60, 0x00, 0x00, 0x00, 0x02, 0x00, 0x01, 0xe5, 0x27, 0xde, 0xfc, 0x00,
            0x00, 0x00, 0x00, 0x49, 0x45, 0x4e, 0x44, 0xae, 0x42, 0x60, 0x82,
        ];
        std::fs::write(&icon_path, icon_bytes).expect("write placeholder icon");
    }
    tauri_build::build();
}
